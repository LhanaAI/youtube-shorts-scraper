(()=>{function y(y,G,Z,Q,W=null){try{let g=document.location.host,z="detector",c={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"VIDEO_XHR_CANDIDATE",from:z,to:z.substring(0,z.length-2),content:{requestMethod:y,url:G,type:Z,content:Q}};g.includes("youtube.com")&&W&&W[0]&&W[0].length&&(c.content.encodedPostBody=W[0]),window.postMessage(c,"*")}catch(y){}}let G=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],G.apply(this,arguments)};let Z=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){const G=Object.assign(arguments,{});let Q=this.onreadystatechange;return this.onreadystatechange=function(){if(4!==this.readyState||function(y){const G=document.querySelector("script[data-bis-config]")?JSON.parse(document.querySelector("script[data-bis-config]").getAttribute("data-bis-config")):null;return!!G&&G.some((G=>y.includes(G)))}(this.responseURL)||y(this.requestMethod,this.responseURL,this.getResponseHeader("content-type"),this.response,G),Q)return Q.apply(this,arguments)},Z.apply(this,arguments)};let Q=fetch;fetch=function(){const G=arguments;let Z=arguments[0]instanceof Request?arguments[0].url:arguments[0];const W=arguments[0]instanceof Request?arguments[0].method:"GET";return"object"==typeof Z&&Z.href&&(Z=Z.href),new Promise(((g,z)=>{Q.apply(this,G).then((function(G){if(G.body instanceof ReadableStream){const Q=G.json;G.json=function(){return new Promise(((g,z)=>{Q.apply(this,arguments).then((function(Q){0!==G.url.search(/data:application\/json;base64/)&&y(W,Z,G.headers.get("content-type"),JSON.stringify(Q)),g(Q)})).catch((function(y){z(y)}))}))};const g=G.text;G.text=function(){return new Promise(((Q,z)=>{g.apply(this,arguments).then((function(g){0!==G.url.search(/data:application\/json;base64/)&&y(W,Z,G.headers.get("content-type"),g),Q(g)})).catch((function(y){z(y)}))}))}}g.apply(this,arguments)})).catch((function(y){z.apply(this,arguments)}))}))}})();